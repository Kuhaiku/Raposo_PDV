<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Histórico de Caixas</title>
    <link rel="stylesheet" href="css/global.css" />
    <link rel="stylesheet" href="css/clientes.css" />
    <link rel="stylesheet" href="css/vendas.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="painel-container">
      <aside class="sidebar">
        <div class="sidebar-header"><h2>Raposo - PDV</h2></div>
        <nav class="sidebar-nav">
          <ul>
            <li><a href="painel.html">Dashboard</a></li>
            <li><a href="nova-venda.html">Nova Venda</a></li>
            <li><a href="Historico.html">Histórico</a></li>
            <li><a href="clientes.html">Clientes</a></li>
            <li><a href="produtos.html">Produtos</a></li>
            <li class="active"><a href="caixa.html">Caixa</a></li>
            <li><a href="perfil-vendedor.html">Perfil Vendedor</a></li>
          </ul>
        </nav>
        <div class="sidebar-footer">
          <button id="logout-btn" class="btn-logout">Sair</button>
        </div>
      </aside>
      <main class="main-content">
        <header
          class="main-header"
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <h1>Histórico de Caixas</h1>
          <a
            href="caixa.html"
            class="btn"
            style="width: auto; padding: 10px 20px"
            >Voltar para Caixa</a
          >
        </header>
        <section class="card">
          <div
            class="form-grid"
            style="grid-template-columns: 3fr 1fr; align-items: flex-end"
          >
            <h2>Desempenho Anual</h2>
            <div class="input-group" style="margin-bottom: 0">
              <label for="select-ano">Selecionar Ano</label>
              <select id="select-ano"></select>
            </div>
          </div>
          <div style="height: 350px; margin-top: 20px">
            <canvas id="grafico-anual-caixa"></canvas>
          </div>
        </section>
        <section class="card">
          <h2>Registros Detalhados</h2>
          <div class="table-container">
            <table class="tabela-clicavel">
              <thead>
                <tr>
                  <th>Abertura</th>
                  <th>Valor Inicial</th>
                  <th>Fechamento</th>
                  <th>Valor Apurado</th>
                  <th>Quem Abriu</th>
                  <th>Quem Fechou</th>
                </tr>
              </thead>
              <tbody id="historico-caixa-body"></tbody>
            </table>
          </div>
        </section>
      </main>
    </div>
    <div id="details-modal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <h2>Detalhes do Caixa <span id="modal-caixa-id"></span></h2>
        <div
          id="modal-caixa-info"
          class="venda-info"
          style="grid-template-columns: 1fr"
        ></div>
        <div class="form-actions" style="margin-top: 20px">
          <button type="button" id="close-modal-btn" class="btn btn-secondary">
            Fechar
          </button>
        </div>
      </div>
    </div>
    <script src="js/auth.js"></script>
    <script src="js/caixa-historico.js"></script>
  </body>
</html>
