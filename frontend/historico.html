<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Histórico de Vendas</title>
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/clientes.css">
    <link rel="stylesheet" href="css/vendas.css">
</head>
<body>
    <div class="painel-container">
        <aside class="sidebar">
            <div class="sidebar-header"> <h2>Raposo - PDV</h2> </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="painel.html">Dashboard</a></li>
                    <li><a href="nova-venda.html">Nova Venda</a></li>
                    <li class="active"><a href="historico.html">Histórico</a></li>
                    <li><a href="clientes.html">Clientes</a></li>
                    <li><a href="produtos.html">Produtos</a></li>
                    <li><a href="caixa.html">Caixa</a></li>
                    <li><a href="perfil-vendedor.html">Perfil Vendedor</a></li>
                </ul>
            </nav>
            <div class="sidebar-footer"> <button id="logout-btn" class="btn-logout">Sair</button> </div>
        </aside>

        <main class="main-content">
            <header class="main-header"> <h1>Histórico de Vendas</h1> </header>

            <section class="card">
                <h2>Filtrar Vendas</h2>
                <form id="filtros-vendas-form" class="form-grid">
                    <div class="input-group">
                        <label for="data-inicio">Data Início</label>
                        <input type="date" id="data-inicio">
                    </div>
                    <div class="input-group">
                        <label for="data-fim">Data Fim</label>
                        <input type="date" id="data-fim">
                    </div>
                    <div class="input-group">
                        <label for="filtro-cliente">Nome do Cliente</label>
                        <input type="text" id="filtro-cliente" placeholder="Digite parte do nome">
                    </div>
                    <div class="input-group">
                        <label for="filtro-vendedor">Vendedor</label>
                        <select id="filtro-vendedor">
                            <option value="">Todos</option>
                            </select>
                    </div>
                    <div class="form-actions">
                        <button type="button" id="limpar-filtros-btn" class="btn btn-secondary">Limpar Filtros</button>
                        <button type="submit" class="btn">Filtrar</button>
                    </div>
                </form>
            </section>

            <section class="card">
                <h2>Vendas Realizadas</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th> <th>Cliente</th> <th>Vendedor</th> <th>Valor Total</th> <th>Data</th> <th style="width: 120px;">Ação</th>
                            </tr>
                        </thead>
                        <tbody id="vendas-table-body"></tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <div id="details-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Detalhes da Venda <span id="modal-venda-id"></span></h2>
            <div id="modal-venda-info" class="venda-info"></div>
            <h3>Itens Vendidos</h3>
            <div class="table-container">
                <table class="modal-table">
                    <thead> <tr> <th>Produto</th> <th>Qtd.</th> <th>Preço Unit.</th> <th>Subtotal</th> </tr> </thead>
                    <tbody id="modal-itens-body"></tbody>
                </table>
            </div>
            <div class="form-actions" style="margin-top: 20px;">
                <button type="button" id="close-modal-btn" class="btn btn-secondary">Fechar</button>
            </div>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/vendas.js"></script>
</body>
</html>
